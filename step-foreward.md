


分等级：
1.能百分百
2.大概率
3.小概率


拼多多
一面

项目聊了20***要问到用的技术栈、中间件

Java 知识:

1. 异常体系设计
throwable ---》 error 和 exception
error 主要是程序无法处理的错误，jvm等异常，如 OOM
exception 是程序可以处理的错误分为runtime exception 和非运行时异常
    runtime exception 主要是 数组越界，空指针NullPointerException等异常，这些异常是不检查异常，程序中可以选择处理或者不处理，这些异常一般是由程序逻辑错误引起的， 
    程序应该从逻辑角度尽可能避免这类异常的发生。
    非运行时异常主要是 IO异常 ，从语法角度讲都是必须处理的异常，如果不处理程序就不能编译同通过，如IOException、SQLException等以及用户自定义的Exception异常，一般情况下不自定义检查异常。 

2. GC 过程，调优过程、死锁处理

3. 线程池设计，线程数量如何配置选择(高低并发、任务执行时间长以及短的各种场景)


4. synchonized 和 lock 的实现，synchonized 底层实现、锁升级

操作系统:

1. 基础知识八股文，进程、线程的区别，线程同步、进程通信
进程是

2. 常用的 linux 命令

回答有用过ping、ssh，由此引发到计算机网络部分，ping、ssh 分别属于哪一

层，实现方式

计算机网络:

1. 三次握手和四次挥手

2. 为什么握手是 3 次，两次可以吗，4 次呢

如果server 端没有收到第三次 ack，但是收到了 client 端发送的数据，server

端会怎么处理

3. 为什么挥手需要 4 次

4. 介绍一下 tcp，如何保证可靠传输

5. http 1/1.1/2 的区别

主要回答了连接复用、长连接等方面

6. https 相关问题

算法:

1. 手写单例模式

2. 反转链表 leetcode 206

二面

项目经历聊了大概20min,比较关注项目经历中有难度、挑战的事情

算法:

1. 手写无锁队列

2. 遍历二叉树(非递归) leetcode 144

数据库:

1. 索引的实现方式

2. hash、B+、B 树实现的优劣对比(Mysql MongoDB 分别是怎么实现的)

3. 数据库的事务、隔离级别、实现方式

开源社区: 日常工作中有没有参与经历过开源项目，看过什么源码，对该技术的理解

聊到了redis、kafka; redis 性能高效的原因(重新实现了数据结构、IO 多路复

用、多路复现的底层实现epoll，单线程基于内存)

持久化方式rdb、aof





58同城
1.自我介绍。
2.介绍一下项目，负责哪些模块，有看过源码吗？
3.currenthashMap和hashTable区别， 为什么线程安全的，hashmap1.7和1.8有什么区别。
4.HashMap为什么使用红黑树，是怎么扩容的，扩容时做了什么。
5.Jvm 分为哪些区域，运行时数据区又分为哪几个。
6.Mysql存储引擎，有什么区别，复杂的SQL一般怎么优化，
7.索引有哪些， user表中的性别添加索引会生效吗，使用like ， in, != (<>), or  索引有效吗，为什么使用B+tree，是怎么实现的
8.redis数据结构，redis的key过期会立即删除吗？
9.GC，引用计数和可达性分析，算法 标记清除，标记复制，标记整理
10.spring的IOC与AOP，哪些注解创建bean对象，springboot与spring区别，为什么使用SpringBoot
11.java8新特性


meituan

1、做一下自我介绍吧，简单说一下你的项目？

2、有遇到过内存泄漏吗？你们是怎么解决的？这个前阵子确实遇到过一次，还算运气比较好。
3、java的基本类型有哪几个？String是不是java的基本类型？String为什么要是final类型的？
4、反射机制的底层实现是什么？动态***呢？动态***的实现原理？
5、hashmap了解吗？说一下hashmap相关的一些东西？hashmap是线程安全的吗？为什么是线程安全的？concureenthashmap了解吗？他是如何实现线程安全的？你刚才说1.8基于cas？cas的ABA问题怎么解决？
6、说一下JVM的线程模型？这些区域都分别是干啥用的？java线程模型和jvm线程模型注意区分、总结下，网上很多文章都是错的。
7、说一下java类加载器的工作机制？类加载在那个区域进行的？
8、说一下java的线程模型？violate了解吗？他的原理是什么？violate是线程安全的吗？为什么不是？
9、保证线程安全的解决方法有哪些？说一说读写锁吧，读写锁的读
10、数据库的索引有哪几种？为什么要用B+树来做索引？组合索引和几个单个的索引有什么区别？数据库的大表查询优化了解吗？MVCC机制了解不？MVCC机制有什么问题？怎么去解决这个问题？mysql慢语句调优做过吗？说说你是怎么做的？
11、redis了解吗？你说说怎么用redis实现分布式锁？
12、spring中Bean的作用域，springMVC的controller是线程安全的吗？怎么去保证线程安全呢？





bilibili

一面
1.项目为什么要用消息队列？改成异步接口不行吗？
2.消息可靠性，消息重复消费。如果消息丢失，你应该怎么尽量地让用户觉得此次下单的

公平性？

3. Redis 性能为什么高？Redis的lua脚本，为什么能保证原子性？如果lua脚本在库存扣减

完以后执行出错怎么办？

4.项目如果要跟小公司进行对接，你会怎么做？

5. JVM 内存布局？GC算法？

6.请从操作系统以及CPU指令（怎么操作内存的）的角度去解释为什么会出现线程不安全？

（答不出来，cpu 指令不会..，扯开话题扯去JMM了）

7. http里面包含什么？

8. 两堆乱序扑克牌，要求合并成一堆有序的牌堆，怎么做？（归并+随便一个排序）时间复

杂度？

9.如果两堆1TB 的数据，要求合并成一堆有序的牌堆，怎么做？（归并+内部排序，分而治

之）

10.回到扑克牌的这个主题，要求把一堆乱序的扑克牌进行排序，如果要极致地压榨性能，

应该怎么做？时间复杂度能达到多少？

最后就是反问。


二面

1. UDP跟TCP的区别及场景？

2. Mysql三范式？为什么会有这三范式？

3. 缓存中间件了解吗？Redis，Memcache？（缓存中间件广度）Redis有多少种数据结构？

应用场景？为什么高性能？

4. zk了解吗？（注册中心广度）

5. kafka 了解吗？（mq广度）（介绍了卡夫卡在他们业务上的使用）

6.微服务设计思想？为什么需要这样设计？好处？

7.了解过Golang 吗？说说你的使用感受以及理解？



qu na

一面（50min）

除了项目之外是以下问题，其实项目问的是最多的了。

手撕代码：给定字符串，内部的单词用空格分隔，将其中的每个单词反转后输出字符串

手撕代码：给定字符串，内部的单词用空格分隔，去除其中重复的单词（即若后面有单词在

前面出现过，则删除后面的单词），并保持单词的原有顺序输出字符串。（用LinkedHashSet

即可）

Linux命令了解多少？查看内存占用？查看磁盘占用？查看某一端口？

谈谈SQL优化

手撕代码：快速排序，要求先说思路

二面（40min）

一面中的海盗分金币。你现在再想想看怎么做？（emm...）

一道编程题：象棋上马从一个位置跳到另一个位置最少需要跳多少次。你当时做出

来了，讲讲思路。（就是广度优先搜索）

BFS实现有个问题就是马在走的过程中其实有些方向其实是没必要考虑的，你有没更好的解

法？（那就启发式搜索，类似A*算法）

A*算法还不是最好的解，你有没更好的解？（emm...，其实面试官看到了一种解法很好，但

是我觉得很难想到，后面他就开始跟我讲什么要算根号五，算一堆啥的，然后再去重啥的，

我连忙点头，不过真没懂他在讲啥）

写SQL 代码：数据库表中有一列是姓名，一列是性别，如何建索引比较好

你觉得你的面试表现怎么样

HR面

期望薪资多少？最后给我薪资远低于我的预期，说你愿意考虑吗？问我为啥会离职之类的。



蘑菇街

问题：

聊10分钟项目

让你实现生产者消费者，类似阻塞队列那种的，你怎么实现？object类的notify和

wait+while循环

redis的常用数据结构以及使用场景。

mysql的是底层什么数据结构？为什么要B+树？

线程池，为什么要用线程池？满了怎么办？如果我想换个方式，改为满了之后先扩充最

大核心数呢？

双亲委派机制的过程？为什么要这个双亲委派机制？

netty？

问到了分表分库，假设有好多订单，现在分表分库了，我如何迅速找到我要的一堆数据。

· Map接口有哪些实现类

·讲一下LinkedHashMap？

·如何得到一个线程安全的Map？

· Java中有哪些锁？讲一下synchronized和ReentrantLock 的区别?

· Spring AOP是怎么实现的？

· JDK动态代理和CGLIB有什么区别？既然有没有实现接口都可以用CGLIB，为什么Spring

还要使用JDK动态代理？

· Spring AOP不能对哪些类进行增强？（没有被Spring管理的类，当时没想出来）

· Spring是怎么解决循环依赖的？多例对象之间的循环依赖？单例和多例之间的循环依

赖？

· MyBatis 中$和#的区别？既然$不安全，为什么还需要$，什么时候会用到它

· MySQL的ACID特性分别是怎么实现的？

· MySQL的事务隔离级别是怎么实现的？

·用过什么缓存框架？用过什么RPC框架？用过什么消息队列？

·除了Java自带的序列化之外，你还了解哪些序列化框架？

差不多就是这样了，相比其他公司的面试，感觉问的问题还是多的。






didi

1.介绍项目
2.介绍redis缓存，雪崩击穿等
3.redis执行原理，没明白猜测可能是数据结构map啥的。
4.ioc三级缓存
5.服务划分策略
6.dubbo底层协议
7.kafka 吞吐量，最大存储空间
8.问你项目数据量
9.线程池参数，怎么确定核心线程大小
10.cpu突然增大怎么排查，网络io突然增大呢。
11.fullgc怎么解决
12.rpc中使用事务该咋办


xiaohongshu

hashmap的底层数据结构，put的过程
hashmap是否是线程安全的，多线程下会有什么问题？concurrentHashMap底层是如何实现线程安全的。
synchronized锁的升级过程。
数据库是否用了索引？用explain无法看出索引用了哪一部分？
https://blog.csdn.net/houmenghu/article/details/109580196

遇到非等值判断时匹配停止

1
2
3
4
5
a = ? and b = ? and c= ?
a = ? and b = ? and c > ?
a = ? and b > ? and c > ?， 只用到索引的一部分(a,b)，因为b把数据阻断了，b不是定植时，c时无序的，无法使用(a,b,c)索引。
 
show global variables like 'optimizer_switch'\G
5.6版本后，可以开启索引下推。虽然有非等值条件，导致索引不能全部使用，但是可以利用索引条件，里面有的字段进行过滤，过滤后再回表读取真正的数据（extra=using index condition)，而不是只根据部分索引查出该索引符合条件的数据(回表数据太多，回表一般是随机io，减少回表次数)，然后再server层进行过滤，这样效率会很低(extra=using where)：

extra=using index是覆盖索引
type=index，表示使用索引排序

http://fivezh.github.io/2020/01/19/mysql-icp/?utm_source=tuicool&utm_medium=referral

spring循环引用的问题，A->B->A问题
spring对于单例模式，用了三级缓存
getBean(A)时，先实例化A，然后曝光到singletonFactories中，允许循环依赖。初始化结束后，再从提前曝光缓存earlySingletonObjects以及singletonFactories移除，挪到singletonOjbects单例缓存中。
getBean(B)依赖A，先在singletonObjects 中查找，如果有直接返回。如果不存在，在earlySingletonObjects中查找，这个是提前曝光，还未初始化的单例。如果不存在，在singletonFactories中查找，找到后放回earlySingletonObjects。这个时候A还没初始化。
举个不用回表的例子
覆盖索引

1
2
index (name, age)
select name,age from t where namg = "xiaoming";
主键用uuid会有什么问题？

聚蔟索引和非聚蔟索引的区别，是否分别对应主键索引、辅助索引？是的
https://www.jianshu.com/p/643850f684db
mysql索引，高度一般是3-4层，innodb的页大小是16kB，叶子节点是双向循环链表？一个b+树存储行数最多为2000w
https://zhuanlan.zhihu.com/p/86137284

实现LRUCache，这里可以考虑用map，节点是node，node之间通过前后指针关联，双向链表
https://leetcode-cn.com/problems/lru-cache/
存在个问题，一批新数据会把访问很久的数据给挤出去，这里如何解决这个问题？

https://juejin.cn/post/6844904049263771662

https://segmentfault.com/a/1190000038714624

jvm垃圾回收是如何做的？

jvm运行时有哪些数据区

哈希冲突如何解决

b+树叶子节点存的是指针吗？存的是数据

可重复读的情况下，select count(*) from t where a >= 0 and a <= 10在另一个事务执行前后效果如何？可重复读下，对于更新语句，会加锁。只不过是通过mvcc来实现可重复读，依然会出现幻读的现象，需要改为当前读
CMS和G1均使用三色标记法进行标记，一开始是白色对象。
黑色对象，自己和成员对象均已标记存活。
灰色对象，中间状态，自己存活，但是成员对象未标记（白色）
白色对象，未标记或者没有访问到（可以回收）
跨代引用
新生代引用老年代如何回收，直接扫描，因为新生代朝生暮死。
老年代引用新生代，回收新生代时minorgc，使用card table，牺牲空间换时间，减少扫描整个老年代的时间，因为老年代的存活时间是比较长的。https://www.jianshu.com/p/f1ff4ab0fed7，g1引入了remember set
write ahead log
https://martinfowler.com/articles/patterns-of-distributed-systems/wal.html
延迟关联，解决深分页问题
http://qidawu.github.io/2019/11/26/mysql-deferred-join/







最右APP 2技术1hr 已offer

一面
工作项目
比较有成就感的产出
redis相关,网络模型，存储模型，常用数据结构等
缓存穿透解决方案
分布式系统 CAP
工作项目中以及其他共识算法
raft算法细节（选主 复制 脑裂 balabala）
mysql索引相关，数据结构，优化，优缺点等
主键需要保证的特性以及为什么这样做
二面
场景题： 某个下游服务的接口并发量大应该如何解决？
给出了一个复用资源（池）的思路，
追问：引入池后会出现哪些问题，如何预防？
聊工作项目，很多问题基于项目问的
hr
1.聊人生



知乎 2技术1hr 已offer

一面

分布式系统一致性说一下
raft算法细节
锁问题，cas，锁的实践？
go标准库的 mutex介绍
bitcask存储模型细节，既然是追加写，那么如何做旧数据gc？重启后索引怎么恢复？
LSM tree介绍一下，相比b+ tree如何？
给TIDB代码贡献介绍一下，TIDB里query大概流程？
项目里的map并发怎么做？ 为啥用分段锁不用sync.map? 分段锁拆了几个分片？
内存对其了解吗？
简单介绍一下go的内存分配机制？ 有mcentral为啥要mcache？
答了 mcentral是服务所有系统线程，mcache为系统线程独享，mcache缺少span时去mcentral->mheap 中取
二面

聊了聊开源贡献
redis连环炮，数据结构+哨兵+同步
聊工作项目
innodb 连环炮 index redo undo mvcc
闲聊技术 人生 问了问组里的工作
hr

聊人生 聊发展
快手： 4轮技术1hr 口头offer 备胎

一面： （欢乐局
看你简历大学有竞赛经历，算法都懂吧？
我：了解
面试官：嗯，了解就不问了
raft算法懂不？
我： 懂
面试官：嗯，懂就不问了
讲讲tidb
讲讲newsql
项目吞吐量，怎么优化的性能？
工作有啥亮点？产出？ 共识怎么做的？
二面：（组长人超级nice！！！ 还帮忙问进度！！！
mmap操作原理
答： 1.内存映射 2.逻辑/物理地址转换 3. 程序访问触发缺页中断 4. 调页
追问：mmap的问题？
答了内存过大时会出现频繁的页面置换 影响效率
tidb项目介绍 sql parser做了啥？ planner做了啥？
讲 epoll
进程线程区别（刨根问底式
各种OS问题
虚拟内存， 缺页置换？ MMU？
写个代码 （忘了问啥了
三面：
项目介绍
设计一个kv存储
说一下你理解的共识算法
说一下多路复用
四面：
项目介绍
直接io与mmap区别？
分布式系统保证数据一致性？
redis主从怎么做的数据一致？
redis哨兵？
讲讲排序算法 优缺点
http连环问题 tcp连环问题 长链接短链接
http header 干啥用的？
写个代码 dijkstra模版题（用go写可真费劲
hr
大学做过自豪的事
一堆小问题
度小满 二面挂

一面：
linux命令
go性能调优怎么做的？
sql注入怎么防？
redis zset使用场景？
zset底层实现
跳表的细节？
go 中 sync.map
答： cas + dirty map + read map
打乱一个数组，不用rand
两个队列模拟栈
二面：
聊项目
没了
头条

一面：
写代码
如何做服务发现
微服务乱七八糟
写代码
二面：
写代码
没了
总结： 知乎面试体验最好，真的是在和求职者认真的沟通交流，发offer也是飞快，快手的技术面体验也不错，面试官会根据你擅长的方向来提出问题，不会张口闭口的微服务云原生，但是快手的hr真的一言难尽，给了口头offer提了工资流水以后发消息不回复，面试时间也给我排错了，人家面试官主动给我打的电话... 头条面试体验最差